---
title: 最近用SVG.JS的感受
date: 2018-05-22 10:40:02
tags:
---

最近项目里要用到SVG，所以找了下什么库比较合适，最后找到了SVG.JS，好用，而且内容丰富，功能超强。

### 多样的组件
对原有SVG进行了封装，可以获得诸如折线，多段线，方形，曲线，椭圆等图形。关键的是，可以用接口对这些图形进行编辑，方便，易用。

### 类似group（组）的包装组件
同样对原生进行了封装，但是有与组件相同的接口，也可以做许多处理，旋转，动画，平移，都可以做到。

### matrix的使用
个人认为，该库的亮点在于matrix的封装。原生html（应该是吧）中，有transform（a,b,c,d,e,f）方法，该方法对应matrix中的平移和旋转部分的数值。但是如果仅仅这样，那matrix就显得过于平庸了。

matrix真正厉害的地方在于，可以直接对matrix进行函数操作。
```js
ins
  .matrix(e.detail.matrix)
  .transform(matrix.rotate(this.__rotate__,...this.circleCenter), true)// 这里超级方便
```
操作结束后，直接对组件的matrix进行更新。实时！太方便了。

当然，如果没有其他矩阵向量计算库的加持，还是稍微弱一点，可以加入gl-matrix这个库一起处理，最终代码会变得非常的优雅。

注：这里的transform使用的是h5的transfrom，一旦对某个元素的group进行transform操作，再对该元素进行操作，会有视图和实际路径不同的问题。

### 关于react的一些思考
react毫无疑问是当前前端界最火（没有之一）的框架，组件化，高复用，高开发效率，易拓展，易维护。即使如此，还是有一定的局限性。

整体页面的粒度至多达到组件，一旦我需要对某个过程调整，会感到非常的蛋疼。处理方法只有爆加组件或者狂给原有组件加参数（当然，可以搞hoc），整个过程会觉着有些愚蠢。

其次，当遇到面向过程超级多的地方时，很难使用react来处理，面条式代码就只能挂载didmount里，想全部用react来处理，感觉很难达到。

如此看来，react也不是银弹，没法处理所有的问题。
